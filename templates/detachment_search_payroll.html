{% extends "base.html" %}

{% block sidebar %}
<div class="sidebar gradient">
    <hr class='navline navline1'/>
    <h2 class='navtitle'>PAYROLL SYSTEM</h2>
    <hr class='navline'/>
    
    <div class='sidebar-menu'>
        <h4>Payroll Records</h4>
        <ul class="right">
            <li class="nobullets"><a href='{{ url_for('listDetachmentsPayroll') }}' class='opt2'>View Record</a></li>
            <li class="nobullets"><a href='{{ url_for('listDetachmentsPayroll') }}' class='opt2'>Add Record</a></li>
        </ul> 
    </div>

</div>

{% endblock sidebar %}

{% block content %}

<h1>Choose a Detachment</h1>

<!--{% for company in companies %}
{% endfor %}-->

<div id="detachments">
            <br/>
            <form class='pure-form pure-form-aligned'>
              <input type="text" class="search" placeholder="Search detachment" />
            </form>
            <br/>
            <table class='search-results pure-table'>
              <thead>
                <tr>
                  <th class="sort" data-sort="code">Code</th>
                  <th class="sort" data-sort="name">Detachment Name</th>
                  <th class="sort" data-sort="city">City</th>
                  <th class="sort" data-sort="client">Company</th>
                  <th class="sort" data-sort="status">Status</th>
                </tr>
              </thead>
          
              <tbody class="list">
                 {% for pDE in pDEs %}
                <tr>
                  <td class="id" style="display:none;">1</td>
                  <td class="code">{{ pDE.Code }}</td>
                  <td class="name"><a href='{{ url_for('viewPeriodsPayroll',ID=pDE.ID)}}'>{{ pDE.Name }}</a></td>
                  <td class="city">{{ pDE.City }}</td>
                  <td class="client">{{ pDE.ClientID }}</td>
                  <td class="status">{{ pDE.Status }}</td>
                </tr>
                 {% endfor %}
              </tbody>
            </table>
        </div>

<!-------SCRIPT FOR ListJS search detachment ------>
<script>
var options = {
  valueNames: [ 'id', 'code', 'name', 'city', 'client', 'status' ]
};

// Init list
var detachmentList = new List('detachments', options);

var idField = $('#id-field'),
    codeField = $('#code-field'),
    nameField = $('#name-field'),
    cityField = $('#city-field'),
    clientField = $('#client-field'),
    statusField = $('#status-field');
</script>
    
{% endblock content %}